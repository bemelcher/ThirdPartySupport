<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Third Party Checker</title>
  <style>
      .offscreen {
        position: fixed;
        visibility: hidden;
        left: -1000px;
        top: 0;
        width: 0;
        height: 0;
      }

      .flex-loader {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }

      .flex-bg:after {
        content: "";
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='365' height='205' xmlns:v='https://vecta.io/nano'%3E%3Cdefs%3E%3CclipPath id='A'%3E%3Cpath transform='translate(0 .213)' fill='%23fff' stroke='%23707070' stroke-width='1' d='M0 0h365v205H0z'/%3E%3C/clipPath%3E%3CclipPath id='B'%3E%3Cpath fill='%236639b7' d='M0 0h209.615v203.832H0z'/%3E%3C/clipPath%3E%3CclipPath id='C'%3E%3Cpath fill='%23005bbb' d='M0 0h209.615v203.827H0z'/%3E%3C/clipPath%3E%3C/defs%3E%3Cg transform='translate(0 -.213)' clip-path='url(%23A)'%3E%3Cg opacity='.15'%3E%3Cg opacity='.5'%3E%3Cg clip-path='url(%23B)' transform='translate(263.137 8.068)'%3E%3Cpath d='M81.443 40.805l103.6 160.295h-76.627L24.383 71.4l33.708-52.285a61.02 61.02 0 0 1 23.352 21.686' fill='%236639b7'/%3E%3C/g%3E%3C/g%3E%3Cpath d='M229.437 51.131c8.956-14.042 21.228-24.847 37.689-28.96 17.837-4.455 39.268-2.56 54.1 5.019l-119.99 186.117-76.721-.049L229.437 51.131' fill='%236639b7' opacity='.8'/%3E%3Cg opacity='.5'%3E%3Cg clip-path='url(%23C)' transform='translate(68.849 96.561)'%3E%3Cpath d='M58.101 19.119l-1.2 1.866-32.513 50.422 84.026 129.689h76.629l-103.6-160.3a61 61 0 0 0-23.342-21.681' fill='%23005bbb'/%3E%3C/g%3E%3C/g%3E%3Cpath d='M92.966 108.272a83.73 83.73 0 0 0-20.125 2.384c-16.461 4.114-28.736 14.918-37.692 28.96l-104.922 162.13 76.721.047 118.8-184.248 1.2-1.864c-9.51-4.859-21.723-7.409-33.985-7.409' fill='%23005bbb'/%3E%3Cpath d='M317.823 213.217l-51.875-1.276L405.189-5.198l8.191 221.236z' fill='%236639b7' opacity='.2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        background-size: cover;
        background-repeat: no-repeat;
        width: 100%;
        height: 100%;
        position: absolute;
        bottom: 0;
        left: 0;
        z-index: -1;
        opacity: 0.5;
      }

      svg {
        vertical-align: middle;
      }

      .flex-loader::after {
        content: "";
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 400' xmlns:v='https://vecta.io/nano'%3E%3Cpath d='M39.5 307.2c1.7 1.1 3.9 1.7 5.8 1.7 4 0 6-2.4 6-4.9 0-2.7-2.1-3.9-4.2-5.1-2.9-1.7-5.2-3.4-5.2-7.3 0-5.1 4.7-7.9 9.2-7.9 2.3 0 4.4.4 6.7 1.3l-1.1 3.5c-1.4-.8-3-1.3-5-1.3-3.1 0-5.5 1.3-5.5 4.3 0 1.8 1.3 3 3.9 4.5 3.7 2.2 5.6 4.1 5.6 7.5 0 3.9-2.7 8.9-9.6 8.9-2.2 0-4.5-.3-7.7-1.6l1.1-3.6zm33.6 4.7l2.4-11.5c.3-1.4.3-2.1.3-2.5 0-2.2-1.5-3.7-3.7-3.7-4.5 0-6.8 4.8-7.4 7.7l-2.1 10h-3.7l6.2-29.8h3.7l-2.5 12.1h.1c1.4-2 3.8-3 6.4-3 4 0 6.8 2.1 6.8 6.4 0 1.4-.3 2.9-.5 3.7L76.9 312h-3.8zm10.2 0l4.3-20.2h3.7L87 311.9h-3.7zm5.1-24.7l.9-4.2h4.2l-.9 4.2h-4.2zm7.1 24.7l3.7-17.2h-4.8l.6-3h4.9l.6-2.7c1-3.9 2.9-7.3 7.9-7.3 1 0 1.9.2 2.9.4l-.8 3c-.4-.2-1.3-.4-1.8-.4-3.1 0-4 2.3-4.6 5.1l-.4 1.9h5.4l-.6 3H103l-3.7 17.2h-3.8zm24.8.1c-.8.3-2.6.4-3.7.4-3.5 0-4.8-2.3-4.8-4.5 0-.9.2-2.3.7-4.8l1.7-8.5h-4.4l.6-3h4.5l1-4.7 4-1.4-1.3 6.1h5.6l-.6 3H118l-1.5 7.2-.9 5.3c0 1.4.8 2.2 2.7 2.2.8 0 1.9-.2 2.6-.5l-.6 3.2zm26.3-.1l-.6-24h-.1l-11 24h-5.2l-2.3-27.7h4l1.5 23.7h.1l11-23.7h5.2l.7 23.7h.1l12-23.7h4.2l-14.5 27.7h-5.1zm17.7 0l4.3-20.2h3.7l-4.3 20.2h-3.7zm5-24.7l.9-4.2h4.2l-.9 4.2h-4.2zm4.9 21c1.5.6 3 1.2 4.6 1.2 2.1 0 4.2-.9 4.2-3.1 0-1.6-1.5-2.6-3.4-3.9-2.4-1.6-3.5-3.1-3.5-5.2 0-4.2 4.2-6 7.6-6 1.7 0 3.5.4 5.3 1.1l-1.1 2.9c-1.3-.6-2.8-1-4-1-2 0-3.8.6-3.8 2.5 0 1.6 1.5 2.5 3.1 3.6 1.8 1.2 3.8 2.6 3.8 5.7 0 4.8-4.4 6.5-7.7 6.5-2.2 0-3.7-.2-5.9-1l.8-3.3zm32.1 3.4c-1.9.5-3.9.8-6 .8-6.2 0-9.3-3.1-9.3-9.1 0-5.4 3.7-12.1 11.2-12.1 4.7 0 7.5 2.9 7.5 7.7 0 1.4-.2 2.5-.4 3.7H195c-.1.4-.1.9-.1 1.3 0 3.7 1.9 5.5 6.2 5.5 1.9 0 3.9-.5 5.7-1.2l-.5 3.4zm-.5-11.7c.1-.6.1-1.1.1-1.5 0-2.3-1.3-4.1-4.3-4.1-2.7 0-5.2 2.2-6.2 5.6h10.4zm42.2-15.7l-1 5.2h-11.3l-1.4 6.1h10.9l-1.1 5.2h-10.7l-2.3 11.2h-7.5l5.9-27.7H248zm11.9-2l-6.2 29.8h-7.2l6.2-29.8h7.2zm21.9 17.5c0 1.2-.4 3.3-.5 3.9h-14.7c.1 2.3 1.3 4 5.5 4 2.1 0 4.6-.5 6.5-1.4l-.9 5c-2.5.8-5.1 1.2-7.2 1.2-6.3 0-10.6-3.6-10.6-9.6 0-3.9 2.7-12 12.4-12 6.1 0 9.5 3.3 9.5 8.9zm-5.9-.1c0-2.3-.9-4.1-3.5-4.1-2.8 0-4.6 1.8-5.2 4.1h8.7zm17.9-8.3l2.3 6.2 4.4-6.2h8.5l-8.8 10.2 4.9 10.5h-7.7l-2.4-6.4-4.8 6.4h-8.8l9.4-10.8-4.4-9.9h7.4zM185.4 207c0 6.5-.9 12.5-2.9 18.1-.2.5-.3.9-.5 1.4-2.4 6.4-6.1 12-11.1 17l-1.1 1.1c-.7.7-1.5 1.4-2.3 2.1s-1.6 1.3-2.5 2l-1.2.9c-1.2.9-2.5 1.7-3.7 2.5-12.9 8-29.3 12.1-49.3 12.1-23 0-40.9-4.6-53.8-13.9C44.2 241 37.7 228 37.6 211H85c.7 4.7 3.6 8.6 8.7 11.6s11.1 4.5 18 4.5c7.4 0 13.3-1.3 17.7-4s6.6-6.1 6.6-10.3c0-3.9-1.8-6.9-5.3-9s-10-4-19.3-5.6l-22.6-4c-15.6-2.7-27.6-8.3-35.9-17s-12.5-19.7-12.5-33.1c0-17 6.5-30.6 19.6-40.9C73.1 93 89.9 87.8 110.6 87.8c2.4 0 3.2 0 7.1.2l8.7 21.4 3.8 19.9.3 8.2c-4.9-13.4-20.8-12.6-20.8-12.6-20.4.4-19.5 13.8-19.5 13.8 0 4 1.8 7.2 5.4 9.6s9.5 4.3 17.7 5.7l22.4 3.9 1 .2 4.5.9c2 .4 3.9.9 5.7 1.4 8.2 2.3 15.1 5.3 20.6 9.2.9.6 1.8 1.3 2.6 2 .6.5 1.1.9 1.6 1.4l1.5 1.5c8.2 7.7 12.2 18.6 12.2 32.5z' fill='%236341b4'/%3E%3ClinearGradient id='A' gradientUnits='userSpaceOnUse' x1='131.694' y1='175.864' x2='362.314' y2='175.864'%3E%3Cstop offset='.17' stop-color='%2304a9ad'/%3E%3Cstop offset='.614' stop-color='%23027cb5'/%3E%3Cstop offset='.909' stop-color='%23005bbb'/%3E%3C/linearGradient%3E%3Cpath d='M362.3 87.7l-41.4 160.7c-2.4 9.2-10.7 15.7-20.2 15.7h-34l-26.1-100.3h-1L213.5 264h-50.2l-3.1-12.1h0l-24.3-94.3h0l-4.2-16.1 24.2-2.3 25.7 2.3 10.7 58.7h1l26.5-112.5h40.5l26.5 112.5h1l14.7-80.7c3.4-18.4 19.4-31.8 38.1-31.8h21.7z' fill='url(%23A)'/%3E%3Cpath d='M131.7 141.5h49.9s-1.3-20.7-17.6-36.5l-1.2-1.2c-.4-.4-.9-.8-1.3-1.1a76.95 76.95 0 0 0-4.2-3.3c-9.2-6.4-22-11.1-39.5-11.7l13.9 53.8zm53.7 65.5c0-13.9-4-24.8-11.9-32.8s-20.2-13.5-36.7-16.4l-1-.2 24.3 94.3c1.7-1.1 3.4-2.2 4.9-3.4 13.6-10.2 20.4-24.1 20.4-41.5z' fill='%23002a68'/%3E%3C/svg%3E");
        background-size: contain;
        background-repeat: no-repeat;
        width: 10rem;
        height: 10rem;
        margin-bottom: 25vh;
      }

      .error-message {
        font-weight: bold;
        color: white;
        position: absolute;
        display: none;
        width: 100vw;
        text-align: center;
        margin: 0;
        padding: 12px;
        /* Using the a muted version of our light error for this to match the background and our theme */
        background: rgba(185, 0, 0, 0.8);
      }

      @keyframes pulse {
        0%, 100% {
          opacity: 1;
        }
        50% {
          opacity: .5;
        }
      }
    </style>
</head>
<body>
  <div>
    <h1>Third Party Cookie Checker</h1>
    <h3>Render in an iFrame and listen for a message with the string '3pcSupported' to validate if 3rd Party Cookies are enabled.</h3>
    <p>To validate load this page in an iFrame and add an event listener for either '3pcSupported' or '3pcNotSupported'</p>
    <div class="flex-bg">
      <div class="flex-loader"></div>
    </div>
  </div>

  <script>
    window.onload = function() {
      try {
        document.cookie = "testCookie=1; SameSite=None; Secure";
        
        const cookiesEnabled = document.cookie.includes('testCookie=1');
        const message = cookiesEnabled ? '3pcSupported' : '3pcNotSupported';

        window.parent.postMessage(message, '*');
      } catch (e) {
        window.parent.postMessage('3pcNotSupported', '*');
      }
    };
  </script>
</body>
</html>
